!function(){"use strict";var e,n={87862:function(e,n,o){var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};n.__esModule=!0;var r=t(o(73609));window.SequenceMember=function(e,n){var o={};o.prefix=n,o.container=r.default("#"+o.prefix+"-container");var t=r.default("#"+o.prefix+"-order");return o.delete=function(){e.deleteMember(o)},o.prependMember=function(n){e.insertMemberBefore(o,n)},o.appendMember=function(n){e.insertMemberAfter(o,n)},o.moveUp=function(){e.moveMemberUp(o)},o.moveDown=function(){e.moveMemberDown(o)},o.markDeleted=function(){r.default("#"+o.prefix+"-deleted").val("1"),o.container.slideUp().dequeue().fadeOut()},o.markAdded=function(){o.container.hide(),o.container.slideDown(),setTimeout((function(){var e=r.default(".input",o.container),n=r.default("input, textarea, [data-hallo-editor], [data-draftail-input]",e).first();n.is("[data-draftail-input]")?n.get(0).draftailEditor.focus():n.trigger("focus")}),250)},o.getIndex=function(){return parseInt(t.val(),10)},o.setIndex=function(e){t.val(e)},o},window.Sequence=function(e){var n={},o=r.default("#"+e.prefix+"-list"),t=r.default("#"+e.prefix+"-count"),a=[];function i(){var o=n.getCount();return t.val(o+1),e.prefix+"-"+o}function l(n){e.onInitializeMember&&e.onInitializeMember(n);var o=n.getIndex();0===o?e.onDisableMoveUp&&e.onDisableMoveUp(n):e.onEnableMoveUp&&e.onEnableMoveUp(n),o===a.length-1?e.onDisableMoveDown&&e.onDisableMoveDown(n):e.onEnableMoveDown&&e.onEnableMoveDown(n),n.markAdded(),a.length>=e.maxNumChildBlocks&&e.onDisableAdd&&e.onDisableAdd(a)}function u(e,n){return r.default(e.replace(/__PREFIX__/g,n).replace(/<-(-*)\/script>/g,"<$1/script>"))}n.getCount=function(){return parseInt(t.val(),10)},n.insertMemberBefore=function(o,t){var r=i(),f=u(t,r);o.container.before(f);for(var v=SequenceMember(n,r),s=o.getIndex(),d=s;d<a.length;d++)a[d].setIndex(d+1);return a.splice(s,0,v),v.setIndex(s),l(v),0===s&&e.onEnableMoveUp&&e.onEnableMoveUp(o),v},n.insertMemberAfter=function(o,t){var r=i(),f=u(t,r);o.container.after(f);for(var v=SequenceMember(n,r),s=o.getIndex()+1,d=s;d<a.length;d++)a[d].setIndex(d+1);return a.splice(s,0,v),v.setIndex(s),l(v),s===a.length-1&&e.onEnableMoveDown&&e.onEnableMoveDown(o),v},n.insertMemberAtStart=function(t){var r=i(),f=u(t,r);o.prepend(f);for(var v=SequenceMember(n,r),s=0;s<a.length;s++)a[s].setIndex(s+1);return a.unshift(v),v.setIndex(0),l(v),a.length>1&&e.onEnableMoveUp&&e.onEnableMoveUp(a[1]),v},n.insertMemberAtEnd=function(t){var r=i(),f=u(t,r);o.append(f);var v=SequenceMember(n,r);return v.setIndex(a.length),a.push(v),l(v),a.length>1&&e.onEnableMoveDown&&e.onEnableMoveDown(a[a.length-2]),v},n.deleteMember=function(n){for(var o=n.getIndex(),t=o+1;t<a.length;t++)a[t].setIndex(t-1);a.splice(o,1),n.markDeleted(),0===o&&a.length>0&&e.onDisableMoveUp&&e.onDisableMoveUp(a[0]),o===a.length&&a.length>0&&e.onDisableMoveDown&&e.onDisableMoveDown(a[a.length-1]),a.length+1>=e.maxNumChildBlocks&&a.length<e.maxNumChildBlocks&&e.onEnableAdd&&e.onEnableAdd(a)},n.moveMemberUp=function(n){var o=n.getIndex();if(o>0){var t=o-1,r=a[t];a[t]=n,n.setIndex(t),a[o]=r,r.setIndex(o),n.container.insertBefore(r.container),0===t&&(e.onDisableMoveUp&&e.onDisableMoveUp(n),e.onEnableMoveUp&&e.onEnableMoveUp(r)),o===a.length-1&&(e.onEnableMoveDown&&e.onEnableMoveDown(n),e.onDisableMoveDown&&e.onDisableMoveDown(r))}},n.moveMemberDown=function(n){var o=n.getIndex();if(o<a.length-1){var t=o+1,r=a[t];a[t]=n,n.setIndex(t),a[o]=r,r.setIndex(o),n.container.insertAfter(r.container),t===a.length-1&&(e.onDisableMoveDown&&e.onDisableMoveDown(n),e.onEnableMoveDown&&e.onEnableMoveDown(r)),0===o&&(e.onEnableMoveUp&&e.onEnableMoveUp(n),e.onDisableMoveUp&&e.onDisableMoveUp(r))}};for(var f=n.getCount(),v=0;v<f;v++){var s=e.prefix+"-"+v,d=SequenceMember(n,s);a[v]=d,e.onInitializeMember&&e.onInitializeMember(d),0===v?e.onDisableMoveUp&&e.onDisableMoveUp(d):e.onEnableMoveUp&&e.onEnableMoveUp(d),v===f-1?e.onDisableMoveDown&&e.onDisableMoveDown(d):e.onEnableMoveDown&&e.onEnableMoveDown(d)}return a.length>=e.maxNumChildBlocks&&e.onDisableAdd&&e.onDisableAdd(a),n}},73609:function(e){e.exports=jQuery}},o={};function t(e){var r=o[e];if(void 0!==r)return r.exports;var a=o[e]={exports:{}};return n[e].call(a.exports,a,a.exports,t),a.exports}t.m=n,e=[],t.O=function(n,o,r,a){if(!o){var i=1/0;for(f=0;f<e.length;f++){o=e[f][0],r=e[f][1],a=e[f][2];for(var l=!0,u=0;u<o.length;u++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](o[u])}))?o.splice(u--,1):(l=!1,a<i&&(i=a));l&&(e.splice(f--,1),n=r())}return n}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[o,r,a]},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={37:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,a,i=o[0],l=o[1],u=o[2],f=0;for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(u)var v=u(t);for(n&&n(o);f<i.length;f++)a=i[f],t.o(e,a)&&e[a]&&e[a][0](),e[i[f]]=0;return t.O(v)},o=self.webpackChunkwagtail=self.webpackChunkwagtail||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}(),t.O(void 0,[751],(function(){return t(87862)}));var r=t.O(void 0,[751],(function(){return t(90971)}));r=t.O(r)}();
//# sourceMappingURL=sequence.js.map